{"version":3,"names":["RNSVGSvgViewManager","NativeModules","styles","StyleSheet","create","svg","backgroundColor","borderWidth","defaultStyle","Svg","callback","root","measureInWindow","measure","relativeToNativeNode","onSuccess","onFail","measureLayout","props","width","height","bbWidth","bbHeight","setNativeProps","options","handle","findNodeHandle","toDataURL","style","opacity","viewBox","children","onLayout","preserveAspectRatio","extracted","stylesAndProps","Array","isArray","Object","assign","color","focusable","font","transform","fill","fillOpacity","fillRule","stroke","strokeWidth","strokeOpacity","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","undefined","Boolean","rootStyles","push","override","overrideStyles","o","NaN","isNaN","w","parseInt","h","doNotParseWidth","length","doNotParseHeight","flex","extractResponder","tint","processColor","tintColor","refMethod","extractViewBox","Shape"],"sources":["Svg.tsx"],"sourcesContent":["import React, { Component } from 'react';\nimport {\n  ColorValue,\n  findNodeHandle,\n  MeasureInWindowOnSuccessCallback,\n  MeasureLayoutOnSuccessCallback,\n  MeasureOnSuccessCallback,\n  NativeModules,\n  processColor,\n  StyleProp,\n  StyleSheet,\n  ViewProps,\n  ViewStyle,\n} from 'react-native';\nimport {\n  extractedProps,\n  NumberProp,\n  ResponderInstanceProps,\n} from '../lib/extract/types';\nimport extractResponder from '../lib/extract/extractResponder';\nimport extractViewBox from '../lib/extract/extractViewBox';\nimport Shape from './Shape';\nimport G, { GProps } from './G';\nimport { RNSVGSvg } from './NativeComponents';\n\nconst RNSVGSvgViewManager = NativeModules.RNSVGSvgViewManager;\n\nconst styles = StyleSheet.create({\n  svg: {\n    backgroundColor: 'transparent',\n    borderWidth: 0,\n  },\n});\nconst defaultStyle = styles.svg;\n\nexport interface SvgProps extends GProps, ViewProps {\n  width?: NumberProp;\n  height?: NumberProp;\n  viewBox?: string;\n  preserveAspectRatio?: string;\n  color?: ColorValue;\n  title?: string;\n}\n\nexport default class Svg extends Shape<SvgProps> {\n  static displayName = 'Svg';\n\n  static defaultProps = {\n    preserveAspectRatio: 'xMidYMid meet',\n  };\n\n  measureInWindow = (callback: MeasureInWindowOnSuccessCallback) => {\n    const { root } = this;\n    root && root.measureInWindow(callback);\n  };\n\n  measure = (callback: MeasureOnSuccessCallback) => {\n    const { root } = this;\n    root && root.measure(callback);\n  };\n\n  measureLayout = (\n    relativeToNativeNode: number,\n    onSuccess: MeasureLayoutOnSuccessCallback,\n    onFail: () => void /* currently unused */,\n  ) => {\n    const { root } = this;\n    root && root.measureLayout(relativeToNativeNode, onSuccess, onFail);\n  };\n\n  setNativeProps = (\n    props: Object & {\n      width?: NumberProp;\n      height?: NumberProp;\n      bbWidth?: NumberProp;\n      bbHeight?: NumberProp;\n    },\n  ) => {\n    const { width, height } = props;\n    if (width) {\n      props.bbWidth = width;\n    }\n    if (height) {\n      props.bbHeight = height;\n    }\n    const { root } = this;\n    root && root.setNativeProps(props);\n  };\n\n  toDataURL = (callback: (base64: string) => void, options?: Object) => {\n    if (!callback) {\n      return;\n    }\n    const handle = findNodeHandle(this.root as Component);\n    RNSVGSvgViewManager.toDataURL(handle, options, callback);\n  };\n\n  render() {\n    const {\n      style,\n      opacity,\n      viewBox,\n      children,\n      onLayout,\n      preserveAspectRatio,\n      ...extracted\n    } = this.props;\n    const stylesAndProps = {\n      ...(Array.isArray(style) ? Object.assign({}, ...style) : style),\n      ...extracted,\n    };\n    let {\n      color,\n      width,\n      height,\n      focusable,\n\n      // Inherited G properties\n      font,\n      transform,\n      fill,\n      fillOpacity,\n      fillRule,\n      stroke,\n      strokeWidth,\n      strokeOpacity,\n      strokeDasharray,\n      strokeDashoffset,\n      strokeLinecap,\n      strokeLinejoin,\n      strokeMiterlimit,\n    } = stylesAndProps;\n    if (width === undefined && height === undefined) {\n      width = height = '100%';\n    }\n\n    const props: extractedProps = extracted as extractedProps;\n    props.focusable = Boolean(focusable) && focusable !== 'false';\n    const rootStyles: StyleProp<ViewStyle>[] = [defaultStyle];\n\n    if (style) {\n      rootStyles.push(style);\n    }\n\n    let override = false;\n    const overrideStyles: ViewStyle = {};\n    const o = opacity != null ? +opacity : NaN;\n    if (!isNaN(o)) {\n      override = true;\n      overrideStyles.opacity = o;\n    }\n\n    if (width && height) {\n      override = true;\n      const w = parseInt(width, 10);\n      const h = parseInt(height, 10);\n      const doNotParseWidth = isNaN(w) || width[width.length - 1] === '%';\n      const doNotParseHeight = isNaN(h) || height[height.length - 1] === '%';\n      overrideStyles.width = doNotParseWidth ? width : w;\n      overrideStyles.height = doNotParseHeight ? height : h;\n      overrideStyles.flex = 0;\n    }\n\n    if (override) {\n      rootStyles.push(overrideStyles);\n    }\n\n    props.style = rootStyles.length > 1 ? rootStyles : defaultStyle;\n\n    if (width != null) {\n      props.bbWidth = width;\n    }\n    if (height != null) {\n      props.bbHeight = height;\n    }\n\n    extractResponder(props, props, this as ResponderInstanceProps);\n\n    const tint = processColor(color);\n    if (tint != null) {\n      props.color = tint;\n      props.tintColor = tint;\n    }\n\n    if (onLayout != null) {\n      props.onLayout = onLayout;\n    }\n\n    return (\n      <RNSVGSvg\n        {...props}\n        ref={this.refMethod}\n        {...extractViewBox({ viewBox, preserveAspectRatio })}\n      >\n        <G\n          {...{\n            children,\n            style,\n            font,\n            transform,\n            fill,\n            fillOpacity,\n            fillRule,\n            stroke,\n            strokeWidth,\n            strokeOpacity,\n            strokeDasharray,\n            strokeDashoffset,\n            strokeLinecap,\n            strokeLinejoin,\n            strokeMiterlimit,\n          }}\n        />\n      </RNSVGSvg>\n    );\n  }\n}\n"],"mappings":"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"}